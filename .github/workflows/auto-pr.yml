name: Manual Dual Pull Requests

# âœ… æ‰‹å‹•åŸ·è¡Œé–‹é—œ
on:
  workflow_dispatch:
    inputs:
      branch:
        description: "è¦å»ºç«‹ PR çš„åˆ†æ”¯åç¨±"
        required: true
        default: "Feature-login-page"
      title:
        description: "PR æ¨™é¡Œ"
        required: true
        default: "Feature: login page"

jobs:
  create-pr:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Create QA Pull Request
        uses: peter-evans/create-pull-request@v6
        with:
          base: qa
          branch: ${{ github.event.inputs.branch }}
          title: "[QA] ${{ github.event.inputs.title }}"
          body: |
            ## ğŸ§© åŠŸèƒ½æ‘˜è¦
            - è‡ªå‹•å»ºç«‹ QA æ¸¬è©¦ç”¨ PR
            - ä¾†æºåˆ†æ”¯ï¼š${{ github.event.inputs.branch }}

            ## ğŸ§ª æ¸¬è©¦é …ç›®
            - [ ] åŠŸèƒ½å¯åœ¨ Vercel QA ç’°å¢ƒæ­£å¸¸é‹ä½œ

            ## ğŸ“ å‚™è¨»
            - æ­¤ PR ç‚ºæ‰‹å‹•å»ºç«‹çš„ QA æ¸¬è©¦ç‰ˆæœ¬ã€‚
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: Create DEV Pull Request
        uses: peter-evans/create-pull-request@v6
        with:
          base: dev
          branch: ${{ github.event.inputs.branch }}
          title: "[DEV] ${{ github.event.inputs.title }}"
          body: |
            ## ğŸ§© åŠŸèƒ½æ‘˜è¦
            - è‡ªå‹•å»ºç«‹ DEV æ•´åˆç”¨ PR
            - ä¾†æºåˆ†æ”¯ï¼š${{ github.event.inputs.branch }}

            ## ğŸ§ª æ¸¬è©¦é …ç›®
            - [ ] ç¢ºèªæ­¤åŠŸèƒ½å·²åŒæ­¥è‡³é–‹ç™¼ç’°å¢ƒ
          token: ${{ secrets.GITHUB_TOKEN }}
