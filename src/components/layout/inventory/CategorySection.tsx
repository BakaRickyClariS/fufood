// sections/CategorySection.tsx

import CategoryCard from '@/components/ui/CategoryCard';
import { categories } from '@/routes/Inventory/categories';
import { autoGeneratedLayout } from '@/routes/Inventory/layoutAutoGenerated';

const DynamicGridAreaStyles = () => {
  const css = categories
    .map((c) => `.grid-area-${c.id}{grid-area:${c.id};}`)
    .join('\n');

  return <style>{css}</style>;
};

const CategorySection = () => {
  const layout = autoGeneratedLayout;

  const gridTemplate = layout.map((row) => `"${row.join(' ')}"`).join(' ');

  return (
    <section className="pb-25">
      <DynamicGridAreaStyles />

      <div
        className="max-w-[800px] mx-auto grid gap-3"
        style={{
          gridTemplateAreas: gridTemplate,
          gridTemplateColumns: '1fr 1fr',
          gridAutoRows: '9rem',
        }}
      >
        {categories.map((item) => (
          <div key={item.id} className={`grid-area-${item.id}`}>
            <CategoryCard
              title={item.title}
              img={item.img}
              bgColor={item.bgColor}
              boxShadow="shadow-[0_6px_14px_-2px_rgba(0,0,0,0.06)]"
            />
          </div>
        ))}
      </div>
    </section>
  );
};

export default CategorySection;
